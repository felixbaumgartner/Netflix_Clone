{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{FaPlay,FaPlus,FaThumbsUp}from'react-icons/fa';import api from'../services/api';import'./MovieDetails.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MovieDetails=()=>{var _movie$release_date,_movie$vote_average;const{id}=useParams();const[movie,setMovie]=useState(null);const[videos,setVideos]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchMovieDetails=async()=>{try{setLoading(true);const movieData=await api.getMovieDetails(id);setMovie(movieData);const videosData=await api.getMovieVideos(id);setVideos(videosData);}catch(error){console.error('Error fetching movie details:',error);}finally{setLoading(false);}};fetchMovieDetails();// Scroll to top when component mounts\nwindow.scrollTo(0,0);},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}if(!movie){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"Movie not found\"});}// Find trailer\nconst trailer=videos.find(video=>video.type==='Trailer'&&video.site==='YouTube')||videos[0];// Format runtime\nconst formatRuntime=minutes=>{const hours=Math.floor(minutes/60);const mins=minutes%60;return`${hours}h ${mins}m`;};return/*#__PURE__*/_jsxs(\"div\",{className:\"movie-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"movie-backdrop\",style:{backgroundImage:`linear-gradient(to bottom, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%), \n                            url(${api.getImageUrl(movie.backdrop_path)})`},children:/*#__PURE__*/_jsxs(\"div\",{className:\"movie-details-content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"movie-title\",children:movie.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"movie-year\",children:(_movie$release_date=movie.release_date)===null||_movie$release_date===void 0?void 0:_movie$release_date.substring(0,4)}),movie.runtime&&/*#__PURE__*/_jsx(\"span\",{className:\"movie-runtime\",children:formatRuntime(movie.runtime)}),/*#__PURE__*/_jsx(\"span\",{className:\"movie-rating\",children:(_movie$vote_average=movie.vote_average)===null||_movie$vote_average===void 0?void 0:_movie$vote_average.toFixed(1)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-actions\",children:[/*#__PURE__*/_jsxs(Link,{to:`/watch/${movie.id}`,className:\"netflix-btn\",children:[/*#__PURE__*/_jsx(FaPlay,{style:{marginRight:'10px'}}),\" Play\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"netflix-btn netflix-btn-secondary\",children:[/*#__PURE__*/_jsx(FaPlus,{style:{marginRight:'10px'}}),\" My List\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"netflix-btn netflix-btn-secondary\",children:[/*#__PURE__*/_jsx(FaThumbsUp,{style:{marginRight:'10px'}}),\" Rate\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-overview\",children:/*#__PURE__*/_jsx(\"p\",{children:movie.overview})}),movie.genres&&movie.genres.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"movie-genres\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Genres: \"}),movie.genres.map((genre,index)=>/*#__PURE__*/_jsxs(\"span\",{children:[genre.name||genre,index<movie.genres.length-1?', ':'']},genre.id||index))]})]})}),trailer&&/*#__PURE__*/_jsxs(\"div\",{className:\"movie-trailer-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Trailer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"trailer-container\",children:/*#__PURE__*/_jsx(\"iframe\",{src:`https://www.youtube.com/embed/${trailer.key}`,title:`${movie.title} Trailer`,frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true})})]})]});};export default MovieDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","FaPlay","FaPlus","FaThumbsUp","api","jsx","_jsx","jsxs","_jsxs","MovieDetails","_movie$release_date","_movie$vote_average","id","movie","setMovie","videos","setVideos","loading","setLoading","fetchMovieDetails","movieData","getMovieDetails","videosData","getMovieVideos","error","console","window","scrollTo","className","children","trailer","find","video","type","site","formatRuntime","minutes","hours","Math","floor","mins","style","backgroundImage","getImageUrl","backdrop_path","title","release_date","substring","runtime","vote_average","toFixed","to","marginRight","overview","genres","length","map","genre","index","name","src","key","frameBorder","allow","allowFullScreen"],"sources":["C:/Users/hp/.cursor-tutor/netflix-clone/src/pages/MovieDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { FaPlay, FaPlus, FaThumbsUp } from 'react-icons/fa';\r\nimport api from '../services/api';\r\nimport './MovieDetails.css';\r\n\r\nconst MovieDetails = () => {\r\n  const { id } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchMovieDetails = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const movieData = await api.getMovieDetails(id);\r\n        setMovie(movieData);\r\n        \r\n        const videosData = await api.getMovieVideos(id);\r\n        setVideos(videosData);\r\n      } catch (error) {\r\n        console.error('Error fetching movie details:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMovieDetails();\r\n    // Scroll to top when component mounts\r\n    window.scrollTo(0, 0);\r\n  }, [id]);\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading...</div>;\r\n  }\r\n\r\n  if (!movie) {\r\n    return <div className=\"error\">Movie not found</div>;\r\n  }\r\n\r\n  // Find trailer\r\n  const trailer = videos.find(video => video.type === 'Trailer' && video.site === 'YouTube') || videos[0];\r\n  \r\n  // Format runtime\r\n  const formatRuntime = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return `${hours}h ${mins}m`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"movie-details\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"movie-backdrop\" \r\n        style={{ \r\n          backgroundImage: `linear-gradient(to bottom, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%), \r\n                            url(${api.getImageUrl(movie.backdrop_path)})` \r\n        }}\r\n      >\r\n        <div className=\"movie-details-content\">\r\n          <h1 className=\"movie-title\">{movie.title}</h1>\r\n          \r\n          <div className=\"movie-meta\">\r\n            <span className=\"movie-year\">{movie.release_date?.substring(0, 4)}</span>\r\n            {movie.runtime && <span className=\"movie-runtime\">{formatRuntime(movie.runtime)}</span>}\r\n            <span className=\"movie-rating\">{movie.vote_average?.toFixed(1)}</span>\r\n          </div>\r\n          \r\n          <div className=\"movie-actions\">\r\n            <Link to={`/watch/${movie.id}`} className=\"netflix-btn\">\r\n              <FaPlay style={{ marginRight: '10px' }} /> Play\r\n            </Link>\r\n            <button className=\"netflix-btn netflix-btn-secondary\">\r\n              <FaPlus style={{ marginRight: '10px' }} /> My List\r\n            </button>\r\n            <button className=\"netflix-btn netflix-btn-secondary\">\r\n              <FaThumbsUp style={{ marginRight: '10px' }} /> Rate\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"movie-overview\">\r\n            <p>{movie.overview}</p>\r\n          </div>\r\n          \r\n          {movie.genres && movie.genres.length > 0 && (\r\n            <div className=\"movie-genres\">\r\n              <span className=\"label\">Genres: </span>\r\n              {movie.genres.map((genre, index) => (\r\n                <span key={genre.id || index}>\r\n                  {genre.name || genre}\r\n                  {index < movie.genres.length - 1 ? ', ' : ''}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Trailer Section */}\r\n      {trailer && (\r\n        <div className=\"movie-trailer-section\">\r\n          <h2 className=\"section-title\">Trailer</h2>\r\n          <div className=\"trailer-container\">\r\n            <iframe\r\n              src={`https://www.youtube.com/embed/${trailer.key}`}\r\n              title={`${movie.title} Trailer`}\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            ></iframe>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieDetails; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}