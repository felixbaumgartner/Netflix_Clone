{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{FaRandom,FaPlay,FaInfoCircle,FaTimes}from'react-icons/fa';import api from'../services/api';import'./SurpriseMe.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SurpriseMe=()=>{var _recommendation$relea,_recommendation$vote_,_recommendation$genre;const[loading,setLoading]=useState(false);const[recommendation,setRecommendation]=useState(null);const[showModal,setShowModal]=useState(false);const getRecommendation=async()=>{setLoading(true);try{// Get AI recommendation\nconst recommendedMovie=await api.getAIRecommendation();// Get more details about the movie\nconst movieDetails=await api.getMovieDetails(recommendedMovie.id);setRecommendation(movieDetails);setShowModal(true);}catch(error){console.error('Error getting recommendation:',error);}finally{setLoading(false);}};const closeModal=()=>{setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"surprise-me-container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"surprise-me-button\",onClick:getRecommendation,disabled:loading,children:[/*#__PURE__*/_jsx(FaRandom,{className:\"surprise-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:loading?'Finding the perfect movie...':'Surprise Me'})]}),showModal&&recommendation&&/*#__PURE__*/_jsx(\"div\",{className:\"recommendation-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:closeModal,children:/*#__PURE__*/_jsx(FaTimes,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your AI Recommendation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"recommendation-tagline\",children:\"Based on your viewing preferences\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"recommendation-backdrop\",style:{backgroundImage:`url(${api.getImageUrl(recommendation.backdrop_path,'w1280')})`},children:/*#__PURE__*/_jsx(\"div\",{className:\"recommendation-poster\",children:/*#__PURE__*/_jsx(\"img\",{src:api.getImageUrl(recommendation.poster_path,'w342'),alt:recommendation.title})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:recommendation.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"recommendation-year\",children:(_recommendation$relea=recommendation.release_date)===null||_recommendation$relea===void 0?void 0:_recommendation$relea.substring(0,4)}),/*#__PURE__*/_jsx(\"span\",{className:\"recommendation-rating\",children:(_recommendation$vote_=recommendation.vote_average)===null||_recommendation$vote_===void 0?void 0:_recommendation$vote_.toFixed(1)}),recommendation.runtime&&/*#__PURE__*/_jsxs(\"span\",{className:\"recommendation-runtime\",children:[Math.floor(recommendation.runtime/60),\"h \",recommendation.runtime%60,\"m\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"recommendation-overview\",children:recommendation.overview}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-reason\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Why we think you'll like it:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"This title matches your preference for \",(_recommendation$genre=recommendation.genres)===null||_recommendation$genre===void 0?void 0:_recommendation$genre.map(g=>g.name).join(', '),\" content and has been enjoyed by viewers with similar tastes.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-actions\",children:[/*#__PURE__*/_jsxs(Link,{to:`/watch/${recommendation.id}`,className:\"netflix-btn\",children:[/*#__PURE__*/_jsx(FaPlay,{style:{marginRight:'10px'}}),\" Play\"]}),/*#__PURE__*/_jsxs(Link,{to:`/movie/${recommendation.id}`,className:\"netflix-btn netflix-btn-secondary\",children:[/*#__PURE__*/_jsx(FaInfoCircle,{style:{marginRight:'10px'}}),\" More Info\"]})]})]})]})]})})]});};export default SurpriseMe;","map":{"version":3,"names":["React","useState","Link","FaRandom","FaPlay","FaInfoCircle","FaTimes","api","jsx","_jsx","jsxs","_jsxs","SurpriseMe","_recommendation$relea","_recommendation$vote_","_recommendation$genre","loading","setLoading","recommendation","setRecommendation","showModal","setShowModal","getRecommendation","recommendedMovie","getAIRecommendation","movieDetails","getMovieDetails","id","error","console","closeModal","className","children","onClick","disabled","style","backgroundImage","getImageUrl","backdrop_path","src","poster_path","alt","title","release_date","substring","vote_average","toFixed","runtime","Math","floor","overview","genres","map","g","name","join","to","marginRight"],"sources":["C:/Users/hp/.cursor-tutor/netflix-clone/src/components/SurpriseMe.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FaRandom, FaPlay, FaInfoCircle, FaTimes } from 'react-icons/fa';\r\nimport api from '../services/api';\r\nimport './SurpriseMe.css';\r\n\r\nconst SurpriseMe = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [recommendation, setRecommendation] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const getRecommendation = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Get AI recommendation\r\n      const recommendedMovie = await api.getAIRecommendation();\r\n      \r\n      // Get more details about the movie\r\n      const movieDetails = await api.getMovieDetails(recommendedMovie.id);\r\n      \r\n      setRecommendation(movieDetails);\r\n      setShowModal(true);\r\n    } catch (error) {\r\n      console.error('Error getting recommendation:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"surprise-me-container\">\r\n      <button \r\n        className=\"surprise-me-button\"\r\n        onClick={getRecommendation}\r\n        disabled={loading}\r\n      >\r\n        <FaRandom className=\"surprise-icon\" />\r\n        <span>{loading ? 'Finding the perfect movie...' : 'Surprise Me'}</span>\r\n      </button>\r\n      \r\n      {showModal && recommendation && (\r\n        <div className=\"recommendation-modal\">\r\n          <div className=\"modal-content\">\r\n            <button className=\"close-button\" onClick={closeModal}>\r\n              <FaTimes />\r\n            </button>\r\n            \r\n            <div className=\"modal-header\">\r\n              <h2>Your AI Recommendation</h2>\r\n              <p className=\"recommendation-tagline\">Based on your viewing preferences</p>\r\n            </div>\r\n            \r\n            <div className=\"recommendation-content\">\r\n              <div \r\n                className=\"recommendation-backdrop\"\r\n                style={{ \r\n                  backgroundImage: `url(${api.getImageUrl(recommendation.backdrop_path, 'w1280')})` \r\n                }}\r\n              >\r\n                <div className=\"recommendation-poster\">\r\n                  <img \r\n                    src={api.getImageUrl(recommendation.poster_path, 'w342')} \r\n                    alt={recommendation.title} \r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"recommendation-details\">\r\n                <h3>{recommendation.title}</h3>\r\n                \r\n                <div className=\"recommendation-meta\">\r\n                  <span className=\"recommendation-year\">\r\n                    {recommendation.release_date?.substring(0, 4)}\r\n                  </span>\r\n                  <span className=\"recommendation-rating\">\r\n                    {recommendation.vote_average?.toFixed(1)}\r\n                  </span>\r\n                  {recommendation.runtime && (\r\n                    <span className=\"recommendation-runtime\">\r\n                      {Math.floor(recommendation.runtime / 60)}h {recommendation.runtime % 60}m\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                \r\n                <p className=\"recommendation-overview\">{recommendation.overview}</p>\r\n                \r\n                <div className=\"recommendation-reason\">\r\n                  <h4>Why we think you'll like it:</h4>\r\n                  <p>This title matches your preference for {recommendation.genres?.map(g => g.name).join(', ')} content and has been enjoyed by viewers with similar tastes.</p>\r\n                </div>\r\n                \r\n                <div className=\"recommendation-actions\">\r\n                  <Link to={`/watch/${recommendation.id}`} className=\"netflix-btn\">\r\n                    <FaPlay style={{ marginRight: '10px' }} /> Play\r\n                  </Link>\r\n                  <Link to={`/movie/${recommendation.id}`} className=\"netflix-btn netflix-btn-secondary\">\r\n                    <FaInfoCircle style={{ marginRight: '10px' }} /> More Info\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SurpriseMe; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}